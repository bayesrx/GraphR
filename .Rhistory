?si
data("si")
document()
document()
load_all()
data(si)
data("pan_gyane")
document()
setwd("C:/Users/chenliy/Desktop/PhD/porject I code/code_package/data")
data <- read.csv("brca_agesi.csv")
View(data)
ex <- data[,c(3:5)]
features <- data[,c(7:196)]
si <- list(external = ex,
features = features)
save(si,"si.rda")
save(si,file = "si.rda")
data <- read.csv("brca_subtype.csv")
ex <- data[,c(1:3)]
colnames(ex) <- c("basal_like","her2_enriched","luminal_ab")
data <- read.csv("brca_subtype.csv")
ex <- data[,c(1:3)]
colnames(ex) <- c("basal_like","her2_enriched","luminal_ab")
features <- data[,c(4:193)]
pam50 <- list(external = ex,
features = features)
save(pam50,file = "pam50.rda")
data <- read.csv("pan_gy.csv")
ex <- data[,c(2:5)]
data <- read.csv("pan_gy.csv")
ex <- data[,c(2:5)]
features <- data[,c(6:194)]
pan_gynae <- list(external = ex,
features = features)
save(pan_gynae,file = "pan_gynae.rda")
gene_exp <- read.csv("Gene_expression_BC_BGR_VB.csv")
View(gene_exp)
coord <- read.csv("location_BC_scaled.csv")
coord <- read.csv("location_unscaled_BC.csv")
rownames(gene_exp) <- gene_exp$X
gene_exp <- gene_exp[,-1]
gene_exp <- t(gene_exp)
View(gene_exp)
name_gene <- strsplit(rownames(gene_exp),"x",simplify =TRUE)
library(stringr)
name_gene <- str_split(rownames(gene_exp),"x",simplify =TRUE)
View(name_gene)
name_gene[,1] <- substr(name_gene[,1],2,100)
View(name_gene)
View(coord)
colnames(name_gene) <- c("x","y")
gene_exp <- rbind(name_gene, gene_exp)
gene_exp <- cbind(name_gene, gene_exp)
View(gene_exp)
name_gene <- apply(name_gene, 2, as.numeric)
View(name_gene)
name_gene <- str_split(rownames(gene_exp),"x",simplify =TRUE)
gene_exp <- read.csv("Gene_expression_BC_BGR_VB.csv")
coord <- read.csv("location_unscaled_BC.csv")
rownames(gene_exp) <- gene_exp$X
gene_exp <- gene_exp[,-1]
gene_exp <- t(gene_exp)
library(stringr)
name_gene <- str_split(rownames(gene_exp),"x",simplify =TRUE)
name_gene[,1] <- substr(name_gene[,1],2,100)
colnames(name_gene) <- c("x","y")
name_gene <- apply(name_gene, 2, as.numeric)
gene_exp <- cbind(name_gene, gene_exp)
View(gene_exp)
gene_exp <- merge(gene_exp, coord)
View(gene_exp)
ex <- gene_exp[,c(1:2)]
features <- gene_exp[,c(3:102)]
View(gene_exp)
spatial <- list(external = ex,
features = features,
combined = gene_exp)
save(spatial,file = "spatial.rda")
load_all()
setwd("C:/Users/chenliy/Desktop/PhD/porject I code/code_package/GraphR")
load_all()
data("pam50.rda")
data("pam50")
features <- apply(pam50$features,2,scale)
external <- pam50$external
external[c(1:5),]
system.time(res <- GraphR_est(
features,
external,
a_pi = 1,
b_pi = 4,
a_tau = 0.005,
b_tau = 0.005,
max_iter = 2000,
max_tol = 0.001
))
set.seed(1)
library(GraphR)
data("pam50")
features <- apply(pam50$features,2,scale) %>% as.matrix()
features[c(1:5),c(1:5)]
external <- pam50$external %>% as.matrix()
external[c(1:5),]
system.time(res <- GraphR_est(
features,
external,
a_pi = 1,
b_pi = 4,
a_tau = 0.005,
b_tau = 0.005,
max_iter = 2000,
max_tol = 0.001
))
set.seed(100)
library(GraphR)
data("pam50")
features <- apply(pam50$features,2,scale) %>% as.matrix()
features[c(1:5),c(1:5)]
external <- pam50$external %>% as.matrix()
external[c(1:5),]
system.time(res <- GraphR_est(
features,
external,
a_pi = 1,
b_pi = 4,
a_tau = 0.005,
b_tau = 0.005,
max_iter = 2000,
max_tol = 0.001
))
####### prediction
new_df <- diag(4)
colnames(new_df) <- colnames(external)
####### prediction
new_df <- diag(3)
colnames(new_df) <- colnames(external)
pred <- GraphR_pred(new_df, res)
pred <- GraphR_pred(new_df, res)
head(pred)
system.time(pred <- GraphR_pred(new_df, res))
library(GraphR)
data("pam50")
features <- apply(pam50$features,2,scale) %>% as.matrix()
library(devtools)
library(Rcpp)
compileAttributes()
install()
library(dplyr)
install()
document()
document()
?GraphR-package
setwd("C:/Users/chenliy/Desktop/PhD/porject I code/code_package/GraphR/R")
pkgload::dev_help('GraphR-package')
document()
load("~/Documents/GitHub/GraphR/data/pam50.rda")
save(Pam50, file = "Pam50.rda")
save(Pam50, file = "data/Pam50.rda")
getwd()
save(Pam50, file = "./data/Pam50.rda")
load("~/Documents/GitHub/GraphR/data/pan_gynae.rda")
save(Pan_gynae, file = "data/Pan_gynae.rda")
library(GraphR)
document()
library(Rcpp)
library(devtools)
document()
install.packages("roxygen2")
install.packages("roxygen2")
library(devtools)
document()
pkgload::dev_help('GraphR_est')
document()
pkgload::dev_help('GraphR_est')
document()
pkgload::dev_help('GraphR_est')
document()
pkgload::dev_help('GraphR_est')
document()
pkgload::dev_help('GraphR_est')
document()
pkgload::dev_help('GraphR_est')
library(GraphR)
?graphR_est
set.seed(100)
data("pam50")
features <- apply(pam50$features,2,scale) %>% as.matrix()
install()
set.seed(100)
data("pam50")
features <- apply(pam50$features,2,scale) %>% as.matrix()
library(graphR)
library(GraphR)
data("pam50")
data("Pam50")
install()
library(devtools)
install()
library(GraphR)
?GraphR_est
library(devtools)
document()
pkgload::dev_help('GraphR_est')
?GraphR_pred
document()
pkgload::dev_help('GraphR_pred')
install()
library(GraphR)
?graphR_est
?GraphR_est
data("Pam50")
features <- apply(Pam50$features,2,scale) %>% as.matrix()
library(GraphR)
library(GraphR)
library(GraphR)
library(dplyr)
features <- apply(Pam50$features,2,scale) %>% as.matrix()
external <- Pam50$external %>% as.matrix()
system.time(res <- GraphR_est(
features,
dis_external = external,
a_pi = 1,
b_pi = 4,
a_tau = 0.005,
b_tau = 0.005,
standardize_feature = FALSE,
standardize_external =FALSE,
max_iter = 2000,
max_tol = 0.001
))
install()
library(devtools)
install()
library(GraphR)
library(dplyr)
set.seed(100)
data("Pam50")
features <- apply(Pam50$features,2,scale) %>% as.matrix()
dim(features)
features[c(1:5),c(1:5)]
external <- Pam50$external %>% as.matrix()
dim(external)
external[c(1:5),]
system.time(res <- GraphR_est(
features,
dis_external = external,
a_pi = 1,
b_pi = 4,
a_tau = 0.005,
b_tau = 0.005,
standardize_feature = FALSE,
standardize_external =FALSE,
max_iter = 2000,
max_tol = 0.001
))
####### prediction
new_df <- diag(3)
colnames(new_df) <- colnames(external)
pred <- GraphR_pred(new_df, res)
head(pred)
library(devtools)
install.packages("tinytex")
tinytex::tlmgr_update()
tinytex::is_tinytex()
install.packages("tinytex")
install.packages("tinytex")
library(tinytex)
tlmgr_update()
library(devtools)
reinstall("htmltools")
install.packages("htmltools")
library(devtools)
shiny::runApp('C:/Users/chenliy/Desktop/PhD/porject I code/GraphR_ShinyApp/GraphR_ShinyApp')
runApp('C:/Users/chenliy/Desktop/PhD/porject I code/GraphR_ShinyApp/GraphR_ShinyApp')
setwd("~/GitHub/GraphR")
library(devtools)
install()
library(GraphR)
remove.packages("GraphR")
install()
install()
library(devtools)
install()
library(GraphR)
?GraphR
?GraphR_visualization
document()
remove.packages(GraphR)
remove.packages("GraphR")
remove.packages("GraphR")
library(devtools)
document()
install()
set.seed(100)
library(GraphR)
library(dplyr)
data("Pam50")
features <- apply(Pam50$features,2,scale) %>% as.matrix()
features[c(1:5),c(1:5)]
external <- Pam50$external %>% as.matrix()
external[c(1:5),]
system.time(res <- GraphR_est(
features[,1:10],
external,
a_pi = 1,
b_pi = 4,
a_tau = 0.005,
b_tau = 0.005,
max_iter = 2000,
max_tol = 0.001
))
####### prediction
new_df <- diag(3)
colnames(new_df) <- colnames(external)
system.time(pred <- GraphR_pred(new_df, res))
head(pred)
####### visualization
new_vec <- c(1,0,0)
GraphR_visualization(new_vec, graphR_est_res = res,
fdr_thre = 0.01, magnitude_thre = 0.4)
library(ggraph)
library(igraph)
data("Pam50")
features <- apply(Pam50$features,2,scale) %>% as.matrix()
features[c(1:5),c(1:5)]
external <- Pam50$external %>% as.matrix()
external[c(1:5),]
system.time(res <- GraphR_est(
features[,1:10],
external,
a_pi = 1,
b_pi = 4,
a_tau = 0.005,
b_tau = 0.005,
max_iter = 2000,
max_tol = 0.001
))
####### prediction
new_df <- diag(3)
colnames(new_df) <- colnames(external)
system.time(pred <- GraphR_pred(new_df, res))
system.time(pred <- GraphR_pred(new_df, res))
head(pred)
####### visualization
new_vec <- c(1,0,0)
GraphR_visualization(new_vec, graphR_est_res = res,
fdr_thre = 0.01, magnitude_thre = 0.4)
library(devtools)
check()
setwd("~/GitHub/GraphR")
use_package('dplyr')
# (Re-)build NAMESPACE
document()
# Reload the package: CTRL-L or
load_all()
use_package('reshape2')
document()
use_package('igraph')
document()
use_package('ggraph')
document()
document()
load_all()
library(GraphR)
library(GraphR)
data("Pam50")
features <- apply(Pam50$features,2,scale) %>% as.matrix()
set.seed(100)
data("Pam50")
features <- apply(Pam50$features,2,scale) %>% as.matrix()
features[c(1:5),c(1:5)]
external <- Pam50$external %>% as.matrix()
external[c(1:5),]
system.time(res <- GraphR_est(
features[,1:10],
external,
a_pi = 1,
b_pi = 4,
a_tau = 0.005,
b_tau = 0.005,
max_iter = 2000,
max_tol = 0.001
))
####### prediction
new_df <- diag(3)
colnames(new_df) <- colnames(external)
system.time(pred <- GraphR_pred(new_df, res))
head(pred)
####### visualization
new_vec <- c(1,0,0)
GraphR_visualization(new_vec, graphR_est_res = res,
fdr_thre = 0.01, magnitude_thre = 0.4)
remove.packages("GraphR")
library(devtools)
document()
checking
check
check()
load_all()
loaded_packages()
document()
load_all()
loaded_packages()
data("Pam50")
features <- apply(Pam50$features,2,scale) %>% as.matrix()
features[c(1:5),c(1:5)]
external <- Pam50$external %>% as.matrix()
external[c(1:5),]
system.time(res <- GraphR_est(
features[,1:10],
external,
a_pi = 1,
b_pi = 4,
a_tau = 0.005,
b_tau = 0.005,
max_iter = 2000,
max_tol = 0.001
))
####### prediction
new_df <- diag(3)
colnames(new_df) <- colnames(external)
system.time(pred <- GraphR_pred(new_df, res))
head(pred)
####### visualization
new_vec <- c(1,0,0)
GraphR_visualization(new_vec, graphR_est_res = res,
fdr_thre = 0.01, magnitude_thre = 0.4)
document()
load_all()
set.seed(100)
data("Pam50")
features <- apply(Pam50$features,2,scale) %>% as.matrix()
features[c(1:5),c(1:5)]
external <- Pam50$external %>% as.matrix()
external[c(1:5),]
system.time(res <- GraphR_est(
features[,1:10],
external,
a_pi = 1,
b_pi = 4,
a_tau = 0.005,
b_tau = 0.005,
max_iter = 2000,
max_tol = 0.001
))
####### prediction
new_df <- diag(3)
colnames(new_df) <- colnames(external)
system.time(pred <- GraphR_pred(new_df, res))
head(pred)
####### visualization
new_vec <- c(1,0,0)
GraphR_visualization(new_vec, graphR_est_res = res,
fdr_thre = 0.01, magnitude_thre = 0.4)
library(GraphR)
set.seed(100)
library(GraphR)
data("Pam50")
features <- apply(Pam50$features,2,scale) %>% as.matrix()
features[c(1:5),c(1:5)]
external <- Pam50$external %>% as.matrix()
external[c(1:5),]
system.time(res <- GraphR_est(
features[,1:10],
external,
a_pi = 1,
b_pi = 4,
a_tau = 0.005,
b_tau = 0.005,
max_iter = 2000,
max_tol = 0.001
))
####### prediction
new_df <- diag(3)
colnames(new_df) <- colnames(external)
system.time(pred <- GraphR_pred(new_df, res))
head(pred)
####### visualization
new_vec <- c(1,0,0)
GraphR_visualization(new_vec, graphR_est_res = res,
fdr_thre = 0.01, magnitude_thre = 0.4)
library(devtools)
install()
set.seed(100)
library(GraphR)
data("Pam50")
features <- as.matrix(apply(Pam50$features,2,scale))
features[c(1:5),c(1:5)]
external <- as.matrix(Pam50$external)
external[c(1:5),]
system.time(res <- GraphR_est(
features[,1:10],
external,
a_pi = 1,
b_pi = 4,
a_tau = 0.005,
b_tau = 0.005,
max_iter = 2000,
max_tol = 0.001
))
####### prediction
new_df <- diag(3)
colnames(new_df) <- colnames(external)
system.time(pred <- GraphR_pred(new_df, res))
head(pred)
####### visualization
new_vec <- c(1,0,0)
p1 <- GraphR_visualization(new_vec, graphR_est_res = res,
fdr_thre = 0.01, magnitude_thre = 0.4)
p1
GraphR_visualization(new_vec, graphR_est_res = res,
fdr_thre = 0.01, magnitude_thre = 0.4)
